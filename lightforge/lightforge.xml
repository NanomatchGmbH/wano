<WaNoTemplate>
  <WaNoRoot name="lightforge">
    <WaNoTabs name="TABS">
      
      <WaNoGroup name="general">

        <WaNoDropDown name="device_layout">
          <Entry id="0">stack</Entry>
          <Entry id="1">manual</Entry>
        </WaNoDropDown>

        <WaNoDropDown name="set_PBC">
          <Entry id="0">automatic</Entry>
          <Entry id="1">manual</Entry>
        </WaNoDropDown>

        <WaNoDictBox visibility_condition="'%s' == 'manual'" visibility_var_path="TABS.general.set_PBC" name="PBC">
          <WaNoBool name="x">False</WaNoBool>
          <WaNoBool name="y">True</WaNoBool>
          <WaNoBool name="z">True</WaNoBool>
        </WaNoDictBox> 

        <WaNoBool name="connect_electrodes">True</WaNoBool>

        <WaNoDictBox name="particle_types">
          <WaNoBool name="holes">True</WaNoBool>
          <WaNoBool name="electrons">False</WaNoBool>
          <WaNoBool name="excitons">False</WaNoBool>
        </WaNoDictBox>

      </WaNoGroup>

      <WaNoGroup name="physics">
         
        <WaNoDropDown name="rates">
          <Entry id="0" chosen="True">Marcus</Entry>
          <Entry id="1">Miller</Entry>
        </WaNoDropDown>

        <WaNoFloat name="epsilon_material">4.0</WaNoFloat>

        <WaNoBool name="show_advanced">False</WaNoBool>
        <WaNoBool visibility_condition="%s == True" visibility_var_path="TABS.physics.show_advanced" name="distance_epsilon">False</WaNoBool>
        <WaNoFloat visibility_condition="%s == True" visibility_var_path="TABS.physics.show_advanced" name="screening_length">1.3</WaNoFloat>
        <WaNoBool visibility_condition="%s == True" visibility_var_path="TABS.physics.show_advanced" name="doping">False</WaNoBool>
        <WaNoInt visibility_condition="%s == True" visibility_var_path="TABS.physics.show_advanced" name="doping_regeneration_steps">30</WaNoInt>
        <WaNoFloat visibility_condition="%s == True" visibility_var_path="TABS.physics.show_advanced" name="electrode_stack_distance">0.8</WaNoFloat>
        <WaNoFloat visibility_condition="%s == True" visibility_var_path="TABS.physics.show_advanced" name="electrode_J_scale">-0.2</WaNoFloat>
      </WaNoGroup>


      <WaNoGroup name="device">

      	<WaNoBool name="morphology from system file">False</WaNoBool>
      	<WaNoFile visibility_condition="%s == True" visibility_var_path="TABS.device.morphology from system file" logical_filename="system.npz" name="system_file">Put file here</WaNoFile>

        <WaNoMultipleOf name="layers">
          <Element id="0">

              <WaNoFloat visibility_condition="'%s' != 'manual'" visibility_var_path="TABS.general.device_layout" name="thickness">10</WaNoFloat>
              <WaNoFloat visibility_condition="'%s' != 'manual'" visibility_var_path="TABS.general.device_layout" name="width">10</WaNoFloat>

              <WaNoDictBox visibility_condition="'%s' == 'manual'" visibility_var_path="TABS.general.device_layout" name="dimensions"> 
                <WaNoFloat name="Lx">10</WaNoFloat>
                <WaNoFloat name="Ly">20</WaNoFloat>
                <WaNoFloat name="Lz">20</WaNoFloat>
              </WaNoDictBox>

              <WaNoDictBox visibility_condition="'%s' == 'manual'" visibility_var_path="TABS.general.device_layout" name="layer_center">
                <WaNoFloat name="Lx">0</WaNoFloat>
                <WaNoFloat name="Ly">0</WaNoFloat>
                <WaNoFloat name="Lz">0</WaNoFloat>
              </WaNoDictBox>  
              <WaNoBool name="use_QuantumPatch_output">True</WaNoBool>
              <WaNoFile visibility_condition="%s == True" visibility_var_path="TABS.device.layers.{{ path[3] }}.use_QuantumPatch_output" logical_filename="QP_output_layer_{{ path[3] }}.zip" name="QP_output">Put file here</WaNoFile>

              <WaNoDropDown name="morphology_source">
                 <Entry id="0" chosen="True">QP_output</Entry>
                 <Entry id="1">file</Entry>
                 <Entry id="2">cubic</Entry>
                 <Entry id="3">stochastic_extension</Entry>
              </WaNoDropDown>
              <WaNoFile visibility_condition="'%s' == 'file'" visibility_var_path="TABS.device.layers.{{ path[3] }}.morphology_source" logical_filename="COM_{{ path[3] }}.dat" name="morphology_file">Put file here</WaNoFile>
              <WaNoFile visibility_condition="'%s' == 'stochastic_extension'" visibility_var_path="TABS.device.layers.{{ path[3] }}.morphology_source" logical_filename="COM_{{ path[3] }}.dat" name="morphology_input_file">Put file here</WaNoFile>
                 
              <WaNoDropDown visibility_condition="'%s' == 'QP_output'" visibility_var_path="TABS.device.layers.{{ path[3] }}.morphology_source" name="identify_species_id_by">
                 <Entry id="0" chosen="True">order_in_morphology_file</Entry>
                 <Entry id="1">molecule_pdb</Entry>
              </WaNoDropDown>
              <WaNoDropDown visibility_condition="'%s' != 'cubic'" visibility_var_path="TABS.device.layers.{{ path[3] }}.morphology_source" name="mol_concentration_source">
                 <Entry id="0" chosen="True">manual</Entry>
                 <Entry id="1">from_morphology_file</Entry>
              </WaNoDropDown>

              <WaNoDropDown name="onsite_energy_source">
                 <Entry id="0" chosen="True">QP_output</Entry>
                 <Entry id="1">file</Entry>
                 <Entry id="2">Gaussian</Entry>
              </WaNoDropDown>
              <WaNoFile visibility_condition="'%s' == 'file'" visibility_var_path="TABS.device.layers.{{ path[3] }}.onsite_energy_source" logical_filename="onsite_energy_{{ path[3] }}.dat" name="energy_file">Put file here</WaNoFile>

              <WaNoDropDown visibility_condition="'%s' == 'Marcus'" visibility_var_path="TABS.physics.rates" name="reorganization_energies_source">
                 <Entry id="0" chosen="True">QP_output</Entry>
                 <Entry id="1">constant</Entry>
                 <Entry id="2">file</Entry>
                 <Entry id="3">Gaussian</Entry>
              </WaNoDropDown>
              <WaNoFile visibility_condition="'%s' == 'file'" visibility_var_path="TABS.device.layers.{{ path[3] }}.reorganization_energies_source" logical_filename="lambdas_{{ path[3] }}.dat" name="reorganization_energy_file">Put file here</WaNoFile>

              <WaNoMultipleOf name="molecule_species">
                <Element id="0">
                  <WaNoInt name="species_id">0</WaNoInt>
                  <WaNoFile visibility_condition="'%s' == 'molecule_pdb'" visibility_var_path="TABS.device.layers.{{ path[3] }}.identify_species_id_by" logical_filename="molecule_{{ path[3] }}_{{ path[5] }}.pdb" name="molecule_pdb">Put file here</WaNoFile>
                  <WaNoFloat visibility_condition="'%s' == 'manual'" visibility_var_path="TABS.device.layers.{{ path[3] }}.mol_concentration_source" name="concentration">1.0</WaNoFloat>
            
                  <WaNoDictBox visibility_condition="%s == True" visibility_var_path="TABS.general.particle_types.holes" name="ionization_potential">
                    <WaNoFloat visibility_condition="'%s' == 'Gaussian'" visibility_var_path="TABS.device.layers.{{ path[3] }}.onsite_energy_source" name="mean">-5.2</WaNoFloat>
                    <WaNoFloat visibility_condition="'%s' == 'Gaussian'" visibility_var_path="TABS.device.layers.{{ path[3] }}.onsite_energy_source" name="disorder">0.1</WaNoFloat>
                    
                    <WaNoFloat visibility_condition="'%s' == 'Gaussian'" visibility_var_path="TABS.device.layers.{{ path[3] }}.reorganization_energies_source" name="mean_lambda">-5.2</WaNoFloat>
                    <WaNoFloat visibility_condition="'%s' == 'Gaussian'" visibility_var_path="TABS.device.layers.{{ path[3] }}.reorganization_energies_source" name="disorder_lambda">0.1</WaNoFloat>
                    <WaNoFloat visibility_condition="'%s' == 'constant'" visibility_var_path="TABS.device.layers.{{ path[3] }}.reorganization_energies_source" name="lambda_value">0.2</WaNoFloat>
                  </WaNoDictBox>
            
                  <WaNoDictBox visibility_condition="%s == True" visibility_var_path="TABS.general.particle_types.electrons" name="electron_affinity">
                    <WaNoFloat visibility_condition="'%s' == 'Gaussian'" visibility_var_path="TABS.device.layers.{{ path[3] }}.onsite_energy_source" name="mean">-5.2</WaNoFloat>
                    <WaNoFloat visibility_condition="'%s' == 'Gaussian'" visibility_var_path="TABS.device.layers.{{ path[3] }}.onsite_energy_source" name="disorder">0.1</WaNoFloat>
                    
                    <WaNoFloat visibility_condition="'%s' == 'Gaussian'" visibility_var_path="TABS.device.layers.{{ path[3] }}.reorganization_energies_source" name="mean_lambda">-5.2</WaNoFloat>
                    <WaNoFloat visibility_condition="'%s' == 'Gaussian'" visibility_var_path="TABS.device.layers.{{ path[3] }}.reorganization_energies_source" name="disorder_lambda">0.1</WaNoFloat>
                    <WaNoFloat visibility_condition="'%s' == 'constant'" visibility_var_path="TABS.device.layers.{{ path[3] }}.reorganization_energies_source" name="lambda_value">0.2</WaNoFloat>
                  </WaNoDictBox>  
                  
                  <WaNoDictBox visibility_condition="%s == True" visibility_var_path="TABS.general.particle_types.excitons" name="excitation_energies">
                    <WaNoFloat name="singlet_decay_rate">1000000000</WaNoFloat>
                    <WaNoFloat name="triplet_decay_rate">1000000</WaNoFloat>
                    <WaNoFloat name="thermal_decay_rate">100000</WaNoFloat>
                    <WaNoFloat visibility_condition="'%s' != 'file'" visibility_var_path="TABS.device.layers.{{ path[3] }}.onsite_energy_source" name="mean">1.2</WaNoFloat>
                    <WaNoFloat visibility_condition="'%s' != 'file'" visibility_var_path="TABS.device.layers.{{ path[3] }}.onsite_energy_source" name="disorder">0.1</WaNoFloat>
                    
                    <WaNoFloat visibility_condition="'%s' == 'Gaussian'" visibility_var_path="TABS.device.layers.{{ path[3] }}.reorganization_energies_source" name="mean_lambda">-5.2</WaNoFloat>
                    <WaNoFloat visibility_condition="'%s' == 'Gaussian'" visibility_var_path="TABS.device.layers.{{ path[3] }}.reorganization_energies_source" name="disorder_lambda">0.1</WaNoFloat>
                    <WaNoFloat visibility_condition="'t' in '%s'" visibility_var_path="TABS.device.layers.{{ path[3] }}.reorganization_energies_source" name="lambda_value">0.2</WaNoFloat>
                  </WaNoDictBox>

                </Element>
              </WaNoMultipleOf>

          </Element>
        </WaNoMultipleOf>


        <WaNoMultipleOf visibility_condition="%s == True" visibility_var_path="TABS.general.connect_electrodes" name="electrodes">
          <Element id="0">

            <WaNoDictBox visibility_condition="'%s' == 'manual'" visibility_var_path="TABS.general.device_layout" name="electrode_norm_vector">
              <WaNoFloat name="x">1.0</WaNoFloat>
              <WaNoFloat name="y">0.0</WaNoFloat>
              <WaNoFloat name="z">0.0</WaNoFloat>  
            </WaNoDictBox>  

            <WaNoDictBox visibility_condition="'%s' == 'manual'" visibility_var_path="TABS.general.device_layout" name="electrode_dimensions">
              <WaNoFloat name="Ly">20.0</WaNoFloat>
              <WaNoFloat name="Lz">20.0</WaNoFloat>
            </WaNoDictBox>  

            <WaNoDictBox visibility_condition="'%s' == 'manual'" visibility_var_path="TABS.general.device_layout" name="electrode_centers">
              <WaNoFloat name="x">-0.5</WaNoFloat>
              <WaNoFloat name="y">0.0</WaNoFloat>
              <WaNoFloat name="z">0.0</WaNoFloat>  
            </WaNoDictBox>  

            <WaNoFloat name="electrode_workfunction">-5.0</WaNoFloat>

            <WaNoDropDown name="coupling_model">
              <Entry id="0">QP_output</Entry>
              <Entry id="1">QM_fit</Entry>
              <Entry id="2">parametrized</Entry>
            </WaNoDropDown>

            <WaNoFloat visibility_condition="'%s' == 'parametrized'" visibility_var_path="TABS.device.electrodes.{{ path[3] }}.coupling_model" logical_filename="J_electrode_{{ path[3] }}.dat" name="electrode_wf_decay_length">0.3</WaNoFloat>
            <WaNoFloat visibility_condition="'%s' == 'parametrized'" visibility_var_path="TABS.device.electrodes.{{ path[3] }}.coupling_model" logical_filename="J_electrode_{{ path[3] }}.dat" name="electrode_coupling">0.001</WaNoFloat>
            <WaNoFile visibility_condition="'%s' == 'QM_fit'" visibility_var_path="TABS.device.electrodes.{{ path[3] }}.coupling_model" logical_filename="J_electrode_{{ path[3] }}.dat" name="electrode_coupling_file">Put file here</WaNoFile>

          </Element>

          <Element id="1">

            <WaNoDictBox visibility_condition="'%s' == 'manual'" visibility_var_path="TABS.general.device_layout" name="electrode_norm_vector">
              <WaNoFloat name="x">-1.0</WaNoFloat>
              <WaNoFloat name="y">0.0</WaNoFloat>
              <WaNoFloat name="z">0.0</WaNoFloat>  
            </WaNoDictBox>  

            <WaNoDictBox visibility_condition="'%s' == 'manual'" visibility_var_path="TABS.general.device_layout" name="electrode_dimensions">
              <WaNoFloat name="Ly">20.0</WaNoFloat>
              <WaNoFloat name="Lz">20.0</WaNoFloat>
            </WaNoDictBox>  

            <WaNoDictBox visibility_condition="'%s' == 'manual'" visibility_var_path="TABS.general.device_layout" name="electrode_centers">
              <WaNoFloat name="x">20.5</WaNoFloat>
              <WaNoFloat name="y">0.0</WaNoFloat>
              <WaNoFloat name="z">0.0</WaNoFloat>  
            </WaNoDictBox>  

            <WaNoFloat name="electrode_workfunction">-3.0</WaNoFloat>

            <WaNoDropDown name="coupling_model">
              <Entry id="0">QP_output</Entry>
              <Entry id="1">QM_fit</Entry>
              <Entry id="2">parametrized</Entry>
            </WaNoDropDown>

            <WaNoFloat visibility_condition="'%s' == 'parametrized'" visibility_var_path="TABS.device.electrodes.{{ path[3] }}.coupling_model" logical_filename="J_electrode_{{ path[3] }}.dat" name="electrode_wf_decay_length">0.3</WaNoFloat>
            <WaNoFloat visibility_condition="'%s' == 'parametrized'" visibility_var_path="TABS.device.electrodes.{{ path[3] }}.coupling_model" logical_filename="J_electrode_{{ path[3] }}.dat" name="electrode_coupling">0.001</WaNoFloat>
            <WaNoFile visibility_condition="'%s' == 'QM_fit'" visibility_var_path="TABS.device.electrodes.{{ path[3] }}.coupling_model" logical_filename="J_electrode_{{ path[3] }}.dat" name="electrode_coupling_file">Put file here</WaNoFile>

          </Element>


        </WaNoMultipleOf>
      </WaNoGroup>  




      <WaNoGroup name="topology">

        <WaNoInt name="max neighbours">45</WaNoInt>

        <WaNoDropDown name="transfer_integral_source">
          <Entry id="0">QP_output</Entry>
          <Entry id="1">QM_expansion</Entry>
          <Entry id="2">Miller-Abrahams</Entry>
        </WaNoDropDown>

        <WaNoMultipleOf name="pair parameters">
          <Element id="0">
          
            <WaNoInt name="molecule_type_id1">0</WaNoInt>
            <WaNoInt name="molecule_type_id2">0</WaNoInt>

            <WaNoDictBox visibility_condition="%s == True" visibility_var_path="TABS.physics.show_advanced" name="pair_cutoff">
              <WaNoFloat name="mean_distance">2.5</WaNoFloat>
              <WaNoFloat name="smearing">0.3</WaNoFloat>
            </WaNoDictBox> 

            <WaNoFile visibility_condition="'%s' == 'QP_output'" visibility_var_path="TABS.topology.transfer_integral_source" logical_filename="QP_output_pair_{{ path[3] }}.zip" name="QP_output">Put file here</WaNoFile>


            <WaNoDictBox visibility_condition="'%s' != 'QP_output'" visibility_var_path="TABS.topology.transfer_integral_source" name="transfer_integral_parameters">
              <WaNoDictBox visibility_condition="%s == True" visibility_var_path="TABS.general.particle_types.holes" name="hole_transfer_integrals">
                <WaNoFloat visibility_condition="'%s' == 'Miller-Abrahams'" visibility_var_path="TABS.topology.transfer_integral_source" name="wf_decay_length">0.1</WaNoFloat>
                <WaNoFloat visibility_condition="'%s' == 'Miller-Abrahams'" visibility_var_path="TABS.topology.transfer_integral_source" name="maximum_ti">0.003</WaNoFloat>
                <WaNoFile visibility_condition="'%s' == 'QM_expansion'" visibility_var_path="TABS.topology.transfer_integral_source" logical_filename="J_holes_{{ path[3] }}.dat" name="ti_input_file">Put file here</WaNoFile>
              </WaNoDictBox>
              <WaNoDictBox visibility_condition="%s == True" visibility_var_path="TABS.general.particle_types.electrons" name="electron_transfer_integrals">
                <WaNoFloat visibility_condition="'%s' == 'Miller-Abrahams'" visibility_var_path="TABS.topology.transfer_integral_source" name="wf_decay_length">0.1</WaNoFloat>
                <WaNoFloat visibility_condition="'%s' == 'Miller-Abrahams'" visibility_var_path="TABS.topology.transfer_integral_source" name="maximum_ti">0.003</WaNoFloat>
                <WaNoFile visibility_condition="'%s' == 'QM_expansion'" visibility_var_path="TABS.topology.transfer_integral_source" logical_filename="J_electrons_{{ path[3] }}.dat" name="ti_input_file">Put file here</WaNoFile>
              </WaNoDictBox>
              <WaNoDictBox visibility_condition="%s == True" visibility_var_path="TABS.general.particle_types.excitons" name="Dexter_transfer_integrals">
                <WaNoFloat visibility_condition="'%s' == 'Miller-Abrahams'" visibility_var_path="TABS.topology.transfer_integral_source" name="wf_decay_length">0.1</WaNoFloat>
                <WaNoFloat visibility_condition="'%s' == 'Miller-Abrahams'" visibility_var_path="TABS.topology.transfer_integral_source" name="maximum_ti">0.003</WaNoFloat>
                <WaNoFile visibility_condition="'%s' == 'QM_expansion'" visibility_var_path="TABS.topology.transfer_integral_source" logical_filename="Dexter1_{{ path[3] }}.dat" name="ti_input_file">Put file here</WaNoFile>
              </WaNoDictBox>
            </WaNoDictBox>


            <WaNoDictBox visibility_condition="%s == True" visibility_var_path="TABS.general.particle_types.excitons" name="Foerster_parameters">
              <WaNoString name="Foerster_radius_forwards">2.5</WaNoString>
              <WaNoString name="Foerster_radius_backwards">0.5</WaNoString>
            </WaNoDictBox>        

          </Element>
        </WaNoMultipleOf>
      </WaNoGroup>




      <WaNoGroup name="operation">
        <WaNoBool name="restart">False</WaNoBool>
        <WaNoFile visibility_condition="%s == True'" visibility_var_path="TABS.operation.restart" logical_filename="lf_output.zip" name="restart file">Put file here</WaNoFile>
        <WaNoInt name="simulations">1</WaNoInt>
        <WaNoDropDown name="measurement">
          <Entry id="0">DC</Entry>
        </WaNoDropDown>

        <WaNoMultipleOf name="Temperature">
          <Element id="0">
            <WaNoFloat name="Temperature">300</WaNoFloat>
          </Element>
        </WaNoMultipleOf> 

        <WaNoMultipleOf name="field_strength">
          <Element id="0">
            <WaNoFloat name="field_strength">0.01</WaNoFloat>
          </Element>
        </WaNoMultipleOf>

        <WaNoMultipleOf visibility_condition="'%s' == 'manual'" visibility_var_path="TABS.general.device_layout" name="field_direction">
          <Element id="0">
            <WaNoFloat name="x">1</WaNoFloat>
            <WaNoFloat name="y">0</WaNoFloat>
            <WaNoFloat name="z">0</WaNoFloat>  
          </Element>
        </WaNoMultipleOf> 

        <WaNoMultipleOf name="initial_charges">
          <Element id="0">
            <WaNoInt visibility_condition="%s == True" visibility_var_path="TABS.general.particle_types.holes" name="holes">0</WaNoInt>
            <WaNoInt visibility_condition="%s == True" visibility_var_path="TABS.general.particle_types.electrons" name="electrons">0</WaNoInt>
          </Element>
        </WaNoMultipleOf> 

        <WaNoDictBox name="computational">
          <WaNoFloat name="IV fluctuation">0.2</WaNoFloat>
          <WaNoInt name="max_iterations">10000000</WaNoInt>
        </WaNoDictBox>

      </WaNoGroup>






  </WaNoTabs>
 </WaNoRoot>


 <WaNoExecCommand>bash ./start_LF.sh</WaNoExecCommand>

 <WaNoInputFiles>
   <WaNoInputFile logical_filename="settings">settings</WaNoInputFile>
   <WaNoInputFile logical_filename="start_LF.sh">start_LF.sh</WaNoInputFile>
 </WaNoInputFiles>
 <WaNoOutputFiles>
    <WaNoOutputFile>DriftDiffusion-in.yml</WaNoOutputFile>
 </WaNoOutputFiles>
</WaNoTemplate>
