<WaNoTemplate>
  <WaNoRoot name="lightforge">
    <WaNoTabs name="TABS">
      
      <WaNoGroup name="general">
        <WaNoDropDown name="device_layout">
          <Entry id="0">stack</Entry>
          <Entry id="1">manual</Entry>
        </WaNoDropDown>

        <WaNoDropDown name="set_PBC">
          <Entry id="0">automatic</Entry>
          <Entry id="1">manual</Entry>
        </WaNoDropDown>

        <WaNoDictBox visibility_condition="'%s' == 'manual'" visibility_var_path="TABS.general.set_PBC" name="PBC">
          <WaNoBool name="x">False</WaNoBool>
          <WaNoBool name="y">True</WaNoBool>
          <WaNoBool name="z">True</WaNoBool>
        </WaNoDictBox> 

        <WaNoBool name="connect_electrodes">True</WaNoBool>

        <WaNoDictBox name="particle_types">
          <WaNoBool name="holes">True</WaNoBool>
          <WaNoBool name="electrons">False</WaNoBool>
          <WaNoBool name="excitons">False</WaNoBool>
        </WaNoDictBox>
      </WaNoGroup>


      <WaNoGroup name="IO">
        <WaNoBool name="use QP output">True</WaNoBool>
        <WaNoMultipleOf visibility_condition="%s == True" visibility_var_path="TABS.IO.use QP output" name="QP output file">
          <Element id="0">
             <WaNoString name="name">mol: A,B</WaNoString>
             <WaNoFile visibility_condition="%s == True" visibility_var_path="TABS.IO.use QP output" logical_filename="QP_output_{{ path[3] }}.zip" name="QP_output.zip">Put file here</WaNoFile>
          </Element>
        </WaNoMultipleOf>
      </WaNoGroup>


      <WaNoGroup name="materials">
        <WaNoDropDown name="excitonics">
          <Entry id="0" chosen="True">use QP abinitio input</Entry>
          <Entry id="1">use presets</Entry>
          <Entry id="2">use heuristic parameters</Entry>
          <Entry id="3">no excitons</Entry>
        </WaNoDropDown>
        <WaNoMultipleOf name="materials">
          <Element id="0">
            <WaNoString name="name">mol A</WaNoString>
            <WaNoDropDown name="input_mode_transport">
              <Entry id="0" chosen="True">QP: eaip,sig,l</Entry>
              <Entry id="1">QP: sig,l PAR: eaip</Entry>
              <Entry id="2">QP: sig PAR: eaip,l</Entry>
              <Entry id="3">QP: l PAR: eaip,sig</Entry>
              <Entry id="4">PAR: eaip,sig,l</Entry>
            </WaNoDropDown>

            <WaNoSwitch switch_path="TABS.materials.materials.{{ path[3] }}.input_mode_transport" name="TP">
              <WaNoDictBox switch_name="QP: eaip,sig,l" name="molecule_parameters">
                <WaNoFile logical_filename="molecule_{{ path[3] }}.pdb" name="molecule_pdb">Put file here</WaNoFile>
                <WaNoDynamicDropDown name="QP_output_sigma" collection_path="TABS.IO.QP output file" subpath="name" chosen="0" />
                <WaNoDynamicDropDown name="QP_output_lambda" collection_path="TABS.IO.QP output file" subpath="name" chosen="0" />
                <WaNoDynamicDropDown name="QP_output_eaip" collection_path="TABS.IO.QP output file" subpath="name" chosen="0" />
                <WaNoDynamicDropDown visibility_condition="'%s' == 'use QP abinitio input'" visibility_var_path="TABS.materials.excitonics" name="QP_output_excitonics" collection_path="TABS.IO.QP output file" subpath="name" chosen="0" />
                <WaNoDynamicDropDown visibility_condition="%s == True" visibility_var_path="TABS.general.particle_types.excitons" name="exciton preset" collection_path="TABS.materials.exciton_presets" subpath="name" chosen="0" />
              </WaNoDictBox>
              <WaNoDictBox switch_name="QP: sig,l PAR: eaip" name="molecule_parameters">
                <WaNoFile logical_filename="molecule_{{ path[3] }}.pdb" name="molecule_pdb">Put file here</WaNoFile>
                <WaNoDynamicDropDown name="QP_output_sigma" collection_path="TABS.IO.QP output file" subpath="name" chosen="0" />
                <WaNoDynamicDropDown name="QP_output_lambda" collection_path="TABS.IO.QP output file" subpath="name" chosen="0" />
                <WaNoDynamicDropDown visibility_condition="'%s' == 'use QP abinitio input'" visibility_var_path="TABS.materials.excitonics" name="QP_output_excitonics" collection_path="TABS.IO.QP output file" subpath="name" chosen="0" />
                <WaNoMatrixFloat rows="1" cols="2" row_header="mean" col_header="IP;EA" name="energies"></WaNoMatrixFloat>
                <WaNoDynamicDropDown visibility_condition="%s == True" visibility_var_path="TABS.general.particle_types.excitons" name="exciton preset" collection_path="TABS.materials.exciton_presets" subpath="name" chosen="0" />
              </WaNoDictBox>
              <WaNoDictBox switch_name="QP: sig PAR: eaip,l" name="molecule_parameters">
                <WaNoFile logical_filename="molecule_{{ path[3] }}.pdb" name="molecule_pdb">Put file here</WaNoFile>
                <WaNoDynamicDropDown name="QP_output_sigma" collection_path="TABS.IO.QP output file" subpath="name" chosen="0" />
                <WaNoDynamicDropDown visibility_condition="'%s' == 'use QP abinitio input'" visibility_var_path="TABS.materials.excitonics" name="QP_output_excitonics" collection_path="TABS.IO.QP output file" subpath="name" chosen="0" />
                <WaNoMatrixFloat rows="2" cols="2" row_header="mean;lambda" col_header="IP;EA" name="energies"></WaNoMatrixFloat>
                <WaNoDynamicDropDown visibility_condition="%s == True" visibility_var_path="TABS.general.particle_types.excitons" name="exciton preset" collection_path="TABS.materials.exciton_presets" subpath="name" chosen="0" />
              </WaNoDictBox>
              <WaNoDictBox switch_name="QP: l PAR: eaip,sig" name="molecule_parameters">
                <WaNoFile logical_filename="molecule_{{ path[3] }}.pdb" name="molecule_pdb">Put file here</WaNoFile>
                <WaNoDynamicDropDown name="QP_output_lambda" collection_path="TABS.IO.QP output file" subpath="name" chosen="0" />
                <WaNoDynamicDropDown visibility_condition="'%s' == 'use QP abinitio input'" visibility_var_path="TABS.materials.excitonics" name="QP_output_excitonics" collection_path="TABS.IO.QP output file" subpath="name" chosen="0" />
                <WaNoMatrixFloat rows="2" cols="2" row_header="mean;sigma" col_header="IP;EA" name="energies"></WaNoMatrixFloat>
                <WaNoDynamicDropDown visibility_condition="%s == True" visibility_var_path="TABS.general.particle_types.excitons" name="exciton preset" collection_path="TABS.materials.exciton_presets" subpath="name" chosen="0" />
              </WaNoDictBox>

              <WaNoDictBox switch_name="PAR: eaip,sig,l" name="molecule_parameters">
                <WaNoDynamicDropDown visibility_condition="'%s' == 'use QP abinitio input'" visibility_var_path="TABS.materials.excitonics" name="QP_output_excitonics" collection_path="TABS.IO.QP output file" subpath="name" chosen="0" />
                <WaNoMatrixFloat rows="3" cols="2" row_header="mean;sigma;lambda" col_header="IP;EA" name="energies"></WaNoMatrixFloat>
                <WaNoDynamicDropDown visibility_condition="%s == True" visibility_var_path="TABS.general.particle_types.excitons" name="exciton preset" collection_path="TABS.materials.exciton_presets" subpath="name" chosen="0" />
              </WaNoDictBox>

            </WaNoSwitch>
          </Element>
        </WaNoMultipleOf>

        <WaNoBool visibility_condition="%s == True" visibility_var_path="TABS.general.particle_types.excitons" name="show exciton_presets">False</WaNoBool>
        <WaNoMultipleOf visibility_condition="%s == True" visibility_var_path="TABS.materials.show exciton_presets" name="exciton_presets">
          <Element id="0">
            <WaNoString name="name">fluorescent</WaNoString>
            <WaNoDictBox name="properties">
              <WaNoString name="singlet_decay_rate">2e8</WaNoString>
              <WaNoString name="triplet_decay_rate">1e3</WaNoString>
              <WaNoString name="thermal_decay_rate">1e5</WaNoString>
              <WaNoString name="max_TTA">1e6</WaNoString>
              <WaNoString name="max_TPQ">1e6</WaNoString>
              <WaNoString name="isc_rate">1e5</WaNoString>
              <WaNoString name="risc_rate">1e3</WaNoString>
              <WaNoString name="rel_light_absorbtion">1.0</WaNoString>
              <WaNoString name="s1s1_reorganization_energy">0.3</WaNoString>
              <WaNoString name="binding_energy">1.0</WaNoString>
              <WaNoFloat name="energy_disorder">0.1</WaNoFloat>
              <WaNoFloat name="singlet_triplet_gap">0.4</WaNoFloat>
            </WaNoDictBox>  
          </Element>

          <Element id="1">
            <WaNoString name="name">phosphorescent</WaNoString>
            <WaNoDictBox name="properties">
              <WaNoString name="singlet_decay_rate">2e8</WaNoString>
              <WaNoString name="triplet_decay_rate">1e6</WaNoString>
              <WaNoString name="thermal_decay_rate">1e5</WaNoString>
              <WaNoString name="max_TTA">1e11</WaNoString>
              <WaNoString name="max_TPQ">1e11</WaNoString>
              <WaNoString name="isc_rate">1e14</WaNoString>
              <WaNoString name="risc_rate">1e3</WaNoString>
              <WaNoString name="rel_light_absorbtion">1.0</WaNoString>
              <WaNoString name="s1s1_reorgnaization_energy">0.3</WaNoString>
              <WaNoString name="binding_energy">1.0</WaNoString>
              <WaNoFloat name="energy_disorder">0.1</WaNoFloat>
              <WaNoFloat name="singlet_triplet_gap">0.4</WaNoFloat>
            </WaNoDictBox>  
          </Element>         
        </WaNoMultipleOf>
      </WaNoGroup>



      <WaNoGroup name="device">

        <WaNoFloat visibility_condition="'%s' != 'manual'" visibility_var_path="TABS.general.device_layout" name="morphology width [nm]">10</WaNoFloat>
        <WaNoMultipleOf name="layers">
          <Element id="0">
            <WaNoString visibility_condition="'%s' == 'manual'" visibility_var_path="TABS.general.device_layout" name="dimensions">10 10 10</WaNoString>
            <WaNoString visibility_condition="'%s' == 'manual'" visibility_var_path="TABS.general.device_layout" name="layer_center">0 0 0</WaNoString>
            <WaNoFloat visibility_condition="'%s' != 'manual'" visibility_var_path="TABS.general.device_layout" name="thickness">10</WaNoFloat>
            <WaNoDropDown name="morphology_input_mode">
              <Entry id="0" chosen="True">automatic</Entry>
              <Entry id="1">select QP_output</Entry>
              <Entry id="2">cubic</Entry>
              <Entry id="3">custom Files: morphology</Entry>
              <Entry id="4">custom Files: morphology, eaip</Entry>
            </WaNoDropDown>

            <WaNoSwitch switch_path="TABS.device.layers.{{ path[3] }}.morphology_input_mode" name="TP">
              <WaNone switch_name="automatic" name="banane">"1"</WaNone>
              <WaNone switch_name="cubic" name="banane2">"2"</WaNone>
              <WaNoInviBox switch_name="custom Files: morphology" name="box1">
                <WaNoFile name="morphology_file" logical_filename="COM{{ path[3] }}.dat">Put file here</WaNoFile>
              </WaNoInviBox>
              <WaNoInviBox switch_name="custom Files: morphology, eaip" name="box1">
                <WaNoFile name="morphology_file" logical_filename="COM{{ path[3] }}.dat">Put file here</WaNoFile>
                <WaNoFile name="eaip_file" logical_filename="eaip{{ path[3] }}.dat">Put file here</WaNoFile>
              </WaNoInviBox>              
              <WaNoDynamicDropDown switch_name="select QP_output" name="morphology_QP_output" collection_path="TABS.IO.QP output file" subpath="name" chosen="0" />
            </WaNoSwitch>

            <WaNoMultipleOf name="molecule_species">
              <Element id="0">
                <WaNoDynamicDropDown name="material" collection_path="TABS.materials.materials" subpath="name" chosen="0" />
                <WaNoFloat name="concentration">1.0</WaNoFloat>
              </Element>
            </WaNoMultipleOf>
          </Element>
        </WaNoMultipleOf>

        <WaNoMultipleOf visibility_condition="%s == True" visibility_var_path="TABS.general.connect_electrodes" name="electrodes">
          <Element id="0">
            <WaNoString visibility_condition="'%s' == 'manual'" visibility_var_path="TABS.general.device_layout" name="electrode_norm_vector">1 0 0</WaNoString>
            <WaNoString visibility_condition="'%s' == 'manual'" visibility_var_path="TABS.general.device_layout" name="electrode_dimensions">10 10</WaNoString>
            <WaNoString visibility_condition="'%s' == 'manual'" visibility_var_path="TABS.general.device_layout" name="electrode_center">-0.5 0 0</WaNoString>
            <WaNoFloat name="electrode_workfunction">-5.0</WaNoFloat>
            <WaNoDropDown name="coupling_model">
              <Entry id="0">QP_output</Entry>
              <Entry id="1">QM_fit</Entry>
              <Entry id="2">parametrized</Entry>
            </WaNoDropDown>

            <WaNoFloat visibility_condition="'%s' == 'parametrized'" visibility_var_path="TABS.device.electrodes.{{ path[3] }}.coupling_model" logical_filename="J_electrode_{{ path[3] }}.dat" name="electrode_wf_decay_length">0.3</WaNoFloat>
            <WaNoFloat visibility_condition="'%s' == 'parametrized'" visibility_var_path="TABS.device.electrodes.{{ path[3] }}.coupling_model" logical_filename="J_electrode_{{ path[3] }}.dat" name="electrode_coupling">0.001</WaNoFloat>
            <WaNoFile visibility_condition="'%s' == 'QM_fit'" visibility_var_path="TABS.device.electrodes.{{ path[3] }}.coupling_model" logical_filename="J_electrode_{{ path[3] }}.dat" name="electrode_coupling_file">Put file here</WaNoFile>
          </Element>

          <Element id="1">
            <WaNoString visibility_condition="'%s' == 'manual'" visibility_var_path="TABS.general.device_layout" name="electrode_norm_vector">-1 0 0</WaNoString>
            <WaNoString visibility_condition="'%s' == 'manual'" visibility_var_path="TABS.general.device_layout" name="electrode_dimensions">10 10</WaNoString>
            <WaNoString visibility_condition="'%s' == 'manual'" visibility_var_path="TABS.general.device_layout" name="electrode_center">10.5 0 0</WaNoString>
            <WaNoFloat name="electrode_workfunction">-5.0</WaNoFloat>
            <WaNoDropDown name="coupling_model">
              <Entry id="0">QP_output</Entry>
              <Entry id="1">QM_fit</Entry>
              <Entry id="2">parametrized</Entry>
            </WaNoDropDown>

            <WaNoFloat visibility_condition="'%s' == 'parametrized'" visibility_var_path="TABS.device.electrodes.{{ path[3] }}.coupling_model" logical_filename="J_electrode_{{ path[3] }}.dat" name="electrode_wf_decay_length">0.3</WaNoFloat>
            <WaNoFloat visibility_condition="'%s' == 'parametrized'" visibility_var_path="TABS.device.electrodes.{{ path[3] }}.coupling_model" logical_filename="J_electrode_{{ path[3] }}.dat" name="electrode_coupling">0.001</WaNoFloat>
            <WaNoFile visibility_condition="'%s' == 'QM_fit'" visibility_var_path="TABS.device.electrodes.{{ path[3] }}.coupling_model" logical_filename="J_electrode_{{ path[3] }}.dat" name="electrode_coupling_file">Put file here</WaNoFile>

          </Element>
        </WaNoMultipleOf>

        <WaNoDropDown name="morphology expansion scheme">
          <Entry id="0" chosen="True">lfx</Entry>
          <Entry id="1">edcm</Entry>
          <Entry id="2">no expansion (!dimensions fixed!)</Entry>
        </WaNoDropDown>
      </WaNoGroup>  



      <WaNoGroup name="topology">
        <WaNoInt name="max neighbours">45</WaNoInt>

        <WaNoDropDown name="transfer_integral_source">
          <Entry id="0">QP_output</Entry>
          <Entry id="1">QM_expansion</Entry>
          <Entry id="2">Miller-Abrahams</Entry>
        </WaNoDropDown>

        <WaNoMultipleOf name="pair parameters">
          <Element id="0">
            <WaNoDynamicDropDown name="molecule 1" collection_path="TABS.materials.materials" subpath="name" chosen="0" />
            <WaNoDynamicDropDown name="molecule 2" collection_path="TABS.materials.materials" subpath="name" chosen="0" />
  
            <WaNoDynamicDropDown visibility_condition="'%s' == 'QP_output'" visibility_var_path="TABS.topology.transfer_integral_source" name="QP_output" collection_path="TABS.IO.QP output file" subpath="name" chosen="0" />

            <WaNoDictBox visibility_condition="'%s' != 'QP_output'" visibility_var_path="TABS.topology.transfer_integral_source" name="transfer_integral_parameters">
              <WaNoDictBox visibility_condition="%s == True" visibility_var_path="TABS.general.particle_types.holes" name="hole_transfer_integrals">
                <WaNoFloat visibility_condition="'%s' == 'Miller-Abrahams'" visibility_var_path="TABS.topology.transfer_integral_source" name="wf_decay_length">0.1</WaNoFloat>
                <WaNoFloat visibility_condition="'%s' == 'Miller-Abrahams'" visibility_var_path="TABS.topology.transfer_integral_source" name="maximum_ti">0.003</WaNoFloat>
                <WaNoFile visibility_condition="'%s' == 'QM_expansion'" visibility_var_path="TABS.topology.transfer_integral_source" logical_filename="J_holes_{{ path[3] }}.dat" name="ti_input_file">Put file here</WaNoFile>
              </WaNoDictBox>
              <WaNoDictBox visibility_condition="%s == True" visibility_var_path="TABS.general.particle_types.electrons" name="electron_transfer_integrals">
                <WaNoFloat visibility_condition="'%s' == 'Miller-Abrahams'" visibility_var_path="TABS.topology.transfer_integral_source" name="wf_decay_length">0.1</WaNoFloat>
                <WaNoFloat visibility_condition="'%s' == 'Miller-Abrahams'" visibility_var_path="TABS.topology.transfer_integral_source" name="maximum_ti">0.003</WaNoFloat>
                <WaNoFile visibility_condition="'%s' == 'QM_expansion'" visibility_var_path="TABS.topology.transfer_integral_source" logical_filename="J_electrons_{{ path[3] }}.dat" name="ti_input_file">Put file here</WaNoFile>
              </WaNoDictBox>
              <WaNoDictBox visibility_condition="%s == True" visibility_var_path="TABS.general.particle_types.excitons" name="Dexter_transfer_integrals">
                <WaNoFloat visibility_condition="'%s' == 'Miller-Abrahams'" visibility_var_path="TABS.topology.transfer_integral_source" name="wf_decay_length">0.1</WaNoFloat>
                <WaNoFloat visibility_condition="'%s' == 'Miller-Abrahams'" visibility_var_path="TABS.topology.transfer_integral_source" name="maximum_ti">0.003</WaNoFloat>
                <WaNoFile visibility_condition="'%s' == 'QM_expansion'" visibility_var_path="TABS.topology.transfer_integral_source" logical_filename="Dexter1_{{ path[3] }}.dat" name="ti_input_file">Put file here</WaNoFile>
              </WaNoDictBox>
            </WaNoDictBox>


            <WaNoDictBox visibility_condition="'%s' == 'use heuristic parameters'" visibility_var_path="TABS.materials.excitonics" name="Foerster_parameters_S1">
              <WaNoString name="Foerster_radius_forwards">2.5</WaNoString>
              <WaNoString name="Foerster_radius_backwards">0.5</WaNoString>
            </WaNoDictBox>        
            <WaNoDictBox visibility_condition="'%s' == 'use heuristic parameters'" visibility_var_path="TABS.materials.excitonics" name="Foerster_parameters_T1">
              <WaNoString name="Foerster_radius_forwards">2.5</WaNoString>
              <WaNoString name="Foerster_radius_backwards">0.5</WaNoString>
            </WaNoDictBox>  

          </Element>
        </WaNoMultipleOf>
      </WaNoGroup>


      <WaNoGroup name="physics">
        <WaNoDropDown name="rates">
          <Entry id="0" chosen="True">Marcus</Entry>
          <Entry id="1">Miller</Entry>
        </WaNoDropDown>

        <WaNoFloat name="epsilon_material">4.0</WaNoFloat>
        <WaNoBool name="superexchange">True</WaNoBool>

        <WaNoBool name="show_advanced">False</WaNoBool>
        <WaNoBool visibility_condition="%s == True" visibility_var_path="TABS.physics.show_advanced" name="distance_epsilon">False</WaNoBool>
        <WaNoFloat visibility_condition="%s == True" visibility_var_path="TABS.physics.show_advanced" name="screening_length">1.3</WaNoFloat>
        <WaNoBool visibility_condition="%s == True" visibility_var_path="TABS.physics.show_advanced" name="doping">False</WaNoBool>
        <WaNoInt visibility_condition="%s == True" visibility_var_path="TABS.physics.show_advanced" name="doping_regeneration_steps">30</WaNoInt>
        <WaNoFloat visibility_condition="%s == True" visibility_var_path="TABS.physics.show_advanced" name="electrode_stack_distance">0.8</WaNoFloat>
        <WaNoFloat visibility_condition="%s == True" visibility_var_path="TABS.physics.show_advanced" name="electrode_J_scale">-0.2</WaNoFloat>
      </WaNoGroup>



      <WaNoGroup name="operation">
        <WaNoBool name="restart">False</WaNoBool>
        <WaNoFile visibility_condition="%s == True" visibility_var_path="TABS.operation.restart" logical_filename="lf_output.zip" name="restart file">Put file here</WaNoFile>
        <WaNoInt name="simulations">1</WaNoInt>
        <WaNoDropDown name="measurement">
          <Entry id="0">DC</Entry>
        </WaNoDropDown>

        <WaNoString name="temperature [K]">300</WaNoString>
        <WaNoString name="field_strength [V/nm]">0.02 0.03 0.04</WaNoString>
        <WaNoString visibility_condition="%s == True" visibility_var_path="TABS.general.particle_types.holes" name="initial holes">10</WaNoString>
        <WaNoString visibility_condition="%s == True" visibility_var_path="TABS.general.particle_types.electrons" name="initial electrons">10</WaNoString>
        <WaNoString visibility_condition="'%s' == 'manual'" visibility_var_path="TABS.general.device_layout" name="field direction">1 0 0</WaNoString>

        <WaNoDictBox name="computational">
          <WaNoFloat name="IV fluctuation">0.2</WaNoFloat>
          <WaNoInt name="max_iterations">10000000</WaNoInt>
        </WaNoDictBox>

        <WaNoBool name="activate bond damping">False</WaNoBool>
        <WaNoDictBox visibility_condition="%s == True" visibility_var_path="TABS.operation.activate bond damping" name="bond damping">
          <WaNoFloat name="max bond noise">0.85</WaNoFloat>
          <WaNoFloat name="max damp factor">0.1</WaNoFloat>
          <WaNoFloat name="activation threshold">0.1</WaNoFloat>
          <WaNoFloat name="healing">0.1</WaNoFloat>
          <WaNoInt name="bond update iter">2000</WaNoInt>
        </WaNoDictBox>

      </WaNoGroup>


  </WaNoTabs>
 </WaNoRoot>


 <WaNoExecCommand>bash ./start_LF.sh</WaNoExecCommand>

 <WaNoInputFiles>
   <WaNoInputFile logical_filename="settings">settings</WaNoInputFile>
   <WaNoInputFile logical_filename="start_LF.sh">start_LF.sh</WaNoInputFile>
 </WaNoInputFiles>
 <WaNoOutputFiles>
    <WaNoOutputFile>DriftDiffusion-in.yml</WaNoOutputFile>
 </WaNoOutputFiles>
</WaNoTemplate>
